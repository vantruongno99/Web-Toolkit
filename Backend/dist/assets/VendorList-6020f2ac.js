import{j as r,C as h,h as l,r as c}from"./index-6b556b87.js";import{u as m}from"./useQuery-d20b0ea0.js";import{v as x}from"./vendor.service-64df021e.js";import{T as j}from"./Title-be952a78.js";import{S as u}from"./Space-d9777764.js";import{T as e}from"./Table-962be2c5.js";import"./utils-73056672.js";import"./config-3ad541f8.js";import"./ScrollArea-8e8f695f.js";const V=()=>{const{isLoading:o,error:a,isError:t,data:n}=m({queryKey:["vendor"],queryFn:async()=>{try{const s=await x.getAllVendor();if(!s)throw new Error;return s}catch(s){console.log(s)}}});return t||!n?r.jsxs(r.Fragment,{children:["'An error has occurred: ' + ",JSON.stringify(a)]}):r.jsxs(h,{p:"2rem",children:[r.jsx(j,{order:3,children:"VENDOR LIST"}),r.jsx(u,{h:"xl"}),r.jsx(p,{data:n,isLoading:o})]})},p=({data:o,isLoading:a})=>{const t=l(),[n,s]=c.useState(o);c.useEffect(()=>{s(o)},[o]);const d=n.map(i=>r.jsxs(e.Tr,{onClick:()=>t(`/vendor/${i.id}`),children:[r.jsx(e.Td,{children:i.name}),r.jsx(e.Td,{children:i.ABN})]},i.name));return r.jsx(r.Fragment,{children:r.jsxs(e,{highlightOnHover:!0,withTableBorder:!0,children:[r.jsx(e.Thead,{children:r.jsxs(e.Tr,{children:[r.jsx(e.Th,{children:"Name"}),r.jsx(e.Th,{children:"ABN"})]})}),r.jsx(e.Tbody,{children:d})]})})};export{V as default};
